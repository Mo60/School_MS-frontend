import{_ as C,a as h,r as y,o as c,c as i,b as s,d as _,w as f,f as p,t as o,F as u,h as m,k as D,e as v,l as g}from"./index.33ae6dcc.js";const T={data(){return{classInfo:[],classID:this.$route.params.ClassID,students:[],faculty_class:[],faculty_class2:{FacultyID:"",ClassID:this.$route.params.ClassID},editData:{FacultyID:"",ClassID:this.$route.params.ClassID},facultyList:[],facultyClassID:""}},created(){let d=this.APIBASEURL+":"+this.APIPORT+`/api/reports/class_view/${this.classID}`;h.get(d).then(a=>{this.classInfo=a.data}).catch(a=>{console.log(a)}).then(()=>{let a=this.APIBASEURL+":"+this.APIPORT+`/api/reports/students_in_class_view/${this.classID}`;h.get(a).then(e=>{this.students=e.data}).catch(e=>{console.log(e)}).then(()=>{let e=this.APIBASEURL+":"+this.APIPORT+"/api/reports/faculty_class_list/";h.get(e).then(n=>{this.faculty_class=n.data.filter(l=>l.ClassID==this.classID),console.log(this.classID),console.log(this.faculty_class)}).catch(n=>{console.log(n)}).then(()=>{let n=this.APIBASEURL+":"+this.APIPORT+"/api/faculty";h.get(n).then(l=>{this.facultyList=l.data})})}).catch(e=>{console.log(e)})}).catch(a=>{console.log(a)})},methods:{getID(d){this.facultyClassID=d;let a=this.APIBASEURL+":"+this.APIPORT+`/api/faculty_class/${d} `;h.get(a).then(e=>{this.editData=e.data})},editTeacher(){let d=this.APIBASEURL+":"+this.APIPORT+`/api/faculty_class/${this.facultyClassID} `;h.put(d,this.editData).then(()=>{let a=this.APIBASEURL+":"+this.APIPORT+"/api/reports/faculty_class_list/";h.get(a).then(e=>{this.faculty_class=e.data.filter(n=>n.ClassID==this.classID),console.log(this.classID),console.log(this.faculty_class)}).catch(e=>{console.log(e)})}).catch(a=>{console.log(a)})},addTeacher(){let d=this.APIBASEURL+":"+this.APIPORT+"/api/faculty_class/ ";h.post(d,this.faculty_class2).then(()=>{this.faculty_class2={facultyID:""};let a=this.APIBASEURL+":"+this.APIPORT+"/api/reports/faculty_class_list/";h.get(a).then(e=>{this.faculty_class=e.data.filter(n=>n.ClassID==this.classID),console.log(this.classID),console.log(this.faculty_class)}).catch(e=>{console.log(e)})})}}},A={class:"cont2"},L={class:"box-wrapper class"},P={class:"box pt-5 pb-5"},S=s("h2",{class:"mb-3"},"Class Details",-1),R={class:"rows"},w=s("span",{class:"label"},"Class ID",-1),x={class:"rows"},U=s("span",{class:"label"},"Course Name",-1),F={class:"rows"},k=s("span",{class:"label"},"Semester",-1),N={class:"rows"},E=s("span",{class:"label"},"Time Period",-1),B={class:"rows"},O=s("span",{class:"label"},"Status",-1),M={class:"rows"},V=s("span",{class:"label"},"Capacity",-1),q={class:"rows"},j=s("span",{class:"label"},"Enrollment Total",-1),z={class:"profile"},G={class:"profile-body"},H=s("h2",{class:"mt-5 mb-5"},"Students Enrolled",-1),J={class:"grid"},K={class:"rows mb-2"},Q=s("span",{class:"label"},"Student ID:",-1),W={class:"rows mb-2 d-flex justify-content-center"},X=s("h2",{class:"mb-4 mt-5"},"Assigned Teachers",-1),Y={key:0,class:"empty-arr"},Z={key:1,class:"table-wrapper"},$={class:"table table-striped"},ss=s("thead",{class:"table-dark"},[s("tr",null,[s("th",null,"Teacher ID"),s("th",null,"First Name"),s("th",null,"Last Name"),s("th",null,"Actions")])],-1),ts=["onClick"],as=s("div",{class:"d-flex mt-4"},[s("button",{type:"button",class:"btn","data-bs-toggle":"modal","data-bs-target":"#exampleModal2"}," Add a Teacher ")],-1),ls={class:"modal fade",id:"exampleModal",tabindex:"0","aria-labelledby":"exampleModalLabel2","aria-hidden":"true"},es={class:"modal-dialog"},os={class:"modal-content"},cs=s("div",{class:"modal-header"},[s("h5",{class:"modal-title",id:"exampleModalLabel2"}," Change Teacher "),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),is={class:"modal-body"},ns={class:"row mb-3"},ds={class:"col"},rs=s("label",{for:""},"* Teachers",-1),hs=s("option",null,"Select an Option",-1),_s=["value"],us={class:"modal-footer"},ms=s("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1),ps={class:"modal fade",id:"exampleModal2",tabindex:"0","aria-labelledby":"exampleModalLabel2","aria-hidden":"true"},bs={class:"modal-dialog"},Is={class:"modal-content"},ys=s("div",{class:"modal-header"},[s("h5",{class:"modal-title",id:"exampleModalLabel2"}," Add a Teacher "),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),fs={class:"modal-body"},Ds={class:"row mb-3"},vs={class:"col"},gs=s("label",{for:""},"Teachers",-1),Cs=s("option",null,"Select an Option",-1),Ts=["value"],As={class:"modal-footer"},Ls=s("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1);function Ps(d,a,e,n,l,r){const b=y("font-awesome-icon"),I=y("router-link");return c(),i("div",A,[s("div",L,[s("div",P,[S,_(I,{class:"btn",to:{name:"EditClass",params:{ClassID:l.classInfo[0].ClassID}}},{default:f(()=>[_(b,{icon:"fa-solid fa-pen-to-square"})]),_:1},8,["to"]),s("div",R,[w,p(o(l.classInfo[0].ClassID),1)]),s("div",x,[U,p(o(l.classInfo[0].CourseName),1)]),s("div",F,[k,s("span",null,o(l.classInfo[0].Semester),1)]),s("div",N,[E,s("span",null,o(l.classInfo[0].StartTime)+" - "+o(l.classInfo[0].EndTime),1)]),s("div",B,[O,s("span",null,o(l.classInfo[0].Status),1)]),s("div",M,[V,s("span",null,o(l.classInfo[0].Capacity),1)]),s("div",q,[j,s("span",null,o(l.classInfo[0].EnrollmentTotal),1)])])]),s("div",z,[s("div",G,[s("div",null,[H,s("div",J,[(c(!0),i(u,null,m(l.students,t=>(c(),i("div",{class:"box",key:t.ClassID},[s("div",K,[Q,s("span",null,o(t.StudentID),1)]),s("div",W,[_(I,{to:{name:"viewStudent",params:{StudentID:t.StudentID}}},{default:f(()=>[p(o(t.FirstName)+" "+o(t.LastName),1)]),_:2},1032,["to"])])]))),128))])]),s("div",null,[X,l.faculty_class.length==0?(c(),i("div",Y," No Assigned Teachers ")):(c(),i("div",Z,[s("table",$,[ss,(c(!0),i(u,null,m(l.faculty_class,t=>(c(),i("tr",{key:t.FacultyID},[s("td",null,o(t.FacultyID),1),s("td",null,o(t.FirstName),1),s("td",null,o(t.LastName),1),s("td",null,[s("button",{type:"button",class:"btn",onClick:Ss=>r.getID(t._id),"data-bs-toggle":"modal","data-bs-target":"#exampleModal"},[_(b,{icon:"fa-solid fa-pen-to-square"})],8,ts)])]))),128))])])),as,s("div",ls,[s("div",es,[s("div",os,[cs,s("div",is,[s("form",{onSubmit:a[1]||(a[1]=D((...t)=>r.editTeacher&&r.editTeacher(...t),["prevent"]))},[s("fieldset",null,[s("div",ns,[s("div",ds,[rs,v(s("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":a[0]||(a[0]=t=>l.editData.FacultyID=t)},[hs,(c(!0),i(u,null,m(l.facultyList,t=>(c(),i("option",{value:t.FacultyID,key:t.FacultyID},o(t.FirstName)+" "+o(t.LastName),9,_s))),128))],512),[[g,l.editData.FacultyID]])])])])],32)]),s("div",us,[ms,s("button",{type:"submit",class:"btn btn-primary",onClick:a[2]||(a[2]=(...t)=>r.editTeacher&&r.editTeacher(...t))}," Save changes ")])])])]),s("div",ps,[s("div",bs,[s("div",Is,[ys,s("div",fs,[s("form",{onSubmit:a[4]||(a[4]=D((...t)=>r.addTeacher&&r.addTeacher(...t),["prevent"]))},[s("fieldset",null,[s("div",Ds,[s("div",vs,[gs,v(s("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":a[3]||(a[3]=t=>l.faculty_class2.FacultyID=t)},[Cs,(c(!0),i(u,null,m(l.facultyList,t=>(c(),i("option",{value:t.FacultyID,key:t.FacultyID},o(t.FirstName)+" "+o(t.LastName),9,Ts))),128))],512),[[g,l.faculty_class2.FacultyID]])])])])],32)]),s("div",As,[Ls,s("button",{type:"submit",class:"btn btn-primary",onClick:a[5]||(a[5]=(...t)=>r.addTeacher&&r.addTeacher(...t))}," Save changes ")])])])])])])])])}const ws=C(T,[["render",Ps]]);export{ws as default};
