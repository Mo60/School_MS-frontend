import{_,a as c,o,c as i,b as l,e as p,l as I,F as m,h as S,k as D,t as a}from"./index.d22901c2.js";const f={data(){return{student:{StudentID:"",FirstName:"",MiddleName:"",LastName:""},Class:{ClassID:"",CourseName:"",Status:"",WeekDay:"",StartTime:"",EndTime:""},student_class:{ClassID:"",StudentID:"",StudentClassStatusID:null},students:[],classes:[],studentsID:"",classID:""}},async created(){let r=this.APIBASEURL+":"+this.APIPORT+"/api/student/";await c.get(r).then(e=>{this.students=e.data}).catch(e=>{console.log(e)});let s=this.APIBASEURL+":"+this.APIPORT+"/api/reports/class_detail_list1";await c.get(s).then(e=>{this.classes=e.data.filter(u=>u.Status!=="Closed"||u.Status!=="Cancelled")}).catch(e=>{console.log(e)})},methods:{async submitForm(){let r=this.APIBASEURL+":"+this.APIPORT+"/api/student_class/";this.student_class.ClassID=this.Class.ClassID,this.student_class.StudentID=this.student.StudentID,await c.post(r,this.student_class).catch(s=>{console.log(s)}),await this.$router.push(`/students/${this.student.StudentID}`)}}},b=l("h1",{class:"mt-5 mb-5"},"Enroll",-1),C={class:"form-control p-4"},A=l("label",{for:"",class:"form-label"},"Student",-1),L=["value"],N=l("label",{for:"",class:"form-label"},"Class",-1),P=["value"],R=l("button",{class:"btn mt-3"},"Enroll Student",-1);function E(r,s,e,u,n,h){return o(),i(m,null,[b,l("form",{onSubmit:s[2]||(s[2]=D((...t)=>h.submitForm&&h.submitForm(...t),["prevent"])),class:"wrapper2"},[l("fieldset",C,[A,p(l("select",{name:"",id:"",class:"form-select mb-4","onUpdate:modelValue":s[0]||(s[0]=t=>n.student.StudentID=t)},[(o(!0),i(m,null,S(n.students,(t,d)=>(o(),i("option",{key:d,value:t.StudentID},a(t.FirstName)+" "+a(t.MiddleName)+" "+a(t.LastName),9,L))),128))],512),[[I,n.student.StudentID]]),N,p(l("select",{name:"",id:"","onUpdate:modelValue":s[1]||(s[1]=t=>n.Class.ClassID=t),class:"form-select mb-3"},[(o(!0),i(m,null,S(n.classes,(t,d)=>(o(),i("option",{key:d,value:t.ClassID},a(t.CourseName)+"|"+a(t.WeekDay)+" "+a(t.StartTime)+"-"+a(t.EndTime)+"| "+a(t.Status),9,P))),128))],512),[[I,n.Class.ClassID]])]),R],32)],64)}const g=_(f,[["render",E]]);export{g as default};
