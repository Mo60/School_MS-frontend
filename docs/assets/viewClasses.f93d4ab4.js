import{_ as S,a as _,j as U,r as y,o as r,c as u,b as t,d as p,w as f,e as E,v as k,f as c,g as C,F as B,h as A,t as h}from"./index.c398c6c7.js";const b={data(){return{Class:[],ClassList:[],searchAll:"",loaded:!1,sortedBYEnroll:0,sortedBySemester:0,sortedByClassStatus:0,sortedByClass:0}},created(){_.get(this.APIBASEURL+":"+this.APIPORT+"/api/reports/class_view/").then(a=>{this.Class=a.data,this.ClassList=this.Class}).catch(a=>{alert("Data could not be fetched")}),this.loaded=!0},methods:{searchByall(){const a=this.Class.filter(s=>s.CourseName.toUpperCase().indexOf(this.searchAll.toUpperCase())!==-1||s.Status.toUpperCase().indexOf(this.searchAll.toUpperCase())!==-1||s.WeekDay.toUpperCase().indexOf(this.searchAll.toUpperCase())!==-1||s.StartTime.toUpperCase().indexOf(this.searchAll.toUpperCase())!==-1||s.EndTime.toUpperCase().indexOf(this.searchAll.toUpperCase())!==-1||s.Semester.toUpperCase().indexOf(this.searchAll.toUpperCase())!==-1);this.ClassList=a},sortByClassStatus(){this.sortedByClass=0,this.sortedBySemester=0,this.sortedBYEnroll=0,this.sortedByClassStatus!==1?(this.ClassList.sort((a,s)=>{const l=a.Status.toUpperCase(),o=s.Status.toUpperCase();if(l<o)return-1;if(l>o)return 1}),this.sortedByClassStatus=1):(this.ClassList.sort((a,s)=>{const l=s.Status.toUpperCase(),o=a.Status.toUpperCase();if(l<o)return-1;if(l>o)return 1}),this.sortedByClassStatus=-1)},sortByEnrollmentTotal(){this.sortedByClassStatus=0,this.sortedByClass=0,this.sortedBySemester=0,this.sortedBYEnroll!==1?(this.ClassList.sort((a,s)=>a.EnrollmentTotal-s.EnrollmentTotal),this.sortedBYEnroll=1):(this.ClassList.sort((a,s)=>s.EnrollmentTotal-a.EnrollmentTotal),this.sortedBYEnroll=-1)},sortBySemester(){this.sortedBYEnroll=0,this.sortedByClassStatus=0,this.sortedByClass=0,this.sortedBySemester!==1?(this.Class.sort((a,s)=>{const l=a.Semester.toUpperCase(),o=s.Semester.toUpperCase();if(l<o)return-1;if(l>o)return 1}),this.sortedBySemester=1):(this.Class.sort((a,s)=>{const l=s.Semester.toUpperCase(),o=a.Semester.toUpperCase();if(l<o)return-1;if(l>o)return 1}),this.sortedBySemester=-1)},sortByClass(){this.sortedByClassStatus=0,this.sortedBySemester=0,this.sortedBYEnroll=0,this.sortedByClass!=1?(this.ClassList.sort((a,s)=>{const l=a.CourseName.toUpperCase(),o=s.CourseName.toUpperCase();if(l<o)return-1;if(l>o)return 1}),this.sortedByClass=1):(this.ClassList.sort((a,s)=>{const l=s.CourseName.toUpperCase(),o=a.CourseName.toUpperCase();if(l<o)return-1;if(l>o)return 1}),this.sortedByClass=-1)}},components:{FontAwesomeIcon:U}},x=t("h1",{class:"mt-5 mb-5"},"Classes",-1),T={key:0,class:"flex-wrapper"},w={class:"empty-arr"},g=t("p",null,"No Classes Found",-1),L={class:"btn mt-3"},v={key:1,class:"tablewrapper"},D={class:"d-flex mb-4 justify-content-center"},I={class:"col-md-4"},N={class:"table table-striped"},Y={class:"table-dark"},O={class:"text-center"},F=t("th",null,"Class ID",-1),V=t("th",null,"Class Time",-1),P=t("th",{colspan:"2"},"Actions",-1);function j(a,s,l,o,i,n){const m=y("router-link"),d=y("font-awesome-icon");return r(),u(B,null,[x,i.Class.length==0&&i.loaded?(r(),u("div",T,[t("div",w,[g,t("a",L,[p(m,{to:{name:"addclass"}},{default:f(()=>[c("Add Class")]),_:1})])])])):(r(),u("div",v,[t("div",D,[t("div",I,[E(t("input",{type:"search","onUpdate:modelValue":s[0]||(s[0]=e=>i.searchAll=e),class:"form-control",onInput:s[1]||(s[1]=(...e)=>n.searchByall&&n.searchByall(...e)),placeholder:"Search","aria-label":"Search","aria-describedby":"search-addon"},null,544),[[k,i.searchAll]])])]),t("table",N,[t("thead",Y,[t("tr",O,[F,t("th",{onClick:s[2]||(s[2]=(...e)=>n.sortByClass&&n.sortByClass(...e))},[c("Class \xA0"),i.sortedByClass?(r(),C(d,{key:0,icon:"fa-solid fa-angle-down"})):(r(),C(d,{key:1,icon:"fa-solid fa-angle-up"}))]),t("th",{onClick:s[3]||(s[3]=(...e)=>n.sortBySemester&&n.sortBySemester(...e))},[c("Semester \xA0 "),i.sortedBySemester?(r(),C(d,{key:0,icon:"fa-solid fa-angle-down"})):(r(),C(d,{key:1,icon:"fa-solid fa-angle-up"}))]),V,t("th",{onClick:s[4]||(s[4]=(...e)=>n.sortByEnrollmentTotal&&n.sortByEnrollmentTotal(...e))},[c("# Enrolled \xA0 "),i.sortedBYEnroll?(r(),C(d,{key:0,icon:"fa-solid fa-angle-down"})):(r(),C(d,{key:1,icon:"fa-solid fa-angle-up"}))]),t("th",{onClick:s[5]||(s[5]=(...e)=>n.sortByClassStatus&&n.sortByClassStatus(...e))},[c("Status \xA0 "),i.sortedByClassStatus?(r(),C(d,{key:0,icon:"fa-solid fa-angle-down"})):(r(),C(d,{key:1,icon:"fa-solid fa-angle-up"}))]),P])]),(r(!0),u(B,null,A(i.ClassList,e=>(r(),u("tbody",{key:e.ClassID},[t("tr",null,[t("td",null,h(e.ClassID),1),t("td",null,h(e.CourseName),1),t("td",null,h(e.Semester),1),t("td",null,h(e.StartTime)+" - "+h(e.EndTime),1),t("td",null,h(e.EnrollmentTotal),1),t("td",null,h(e.Status),1),t("td",null,[p(m,{class:"btn",to:{name:"classes2",params:{ClassID:e.ClassID}}},{default:f(()=>[p(d,{icon:"fa-solid fa-eye"})]),_:2},1032,["to"])]),t("td",null,[p(m,{class:"btn",to:{name:"EditClass",params:{ClassID:e.ClassID}}},{default:f(()=>[c("Edit")]),_:2},1032,["to"])])])]))),128))])]))],64)}const M=S(b,[["render",j]]);export{M as default};
